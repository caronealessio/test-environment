<mvc:View controllerName="testenvironment.controller.users.UsersForm"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:f="sap.f"
  xmlns:l="sap.ui.layout"
  xmlns:my="testenvironment.controls"
  xmlns:c="sap.ui.core">
  <f:DynamicPage showFooter="true">
    <f:title>
      <f:DynamicPageTitle>
        <f:heading>
          <Title text="{i18n>labelUser}:" />
        </f:heading>
      </f:DynamicPageTitle>
    </f:title>
    <f:content>
      <Panel>
        <l:Grid defaultSpan="XL3 L4 M6">
          <my:input.LabeledInputCustom text="{i18n>labelName}"
            required="true"
            maxLength="50"
            value="{User>/name}" />
          <my:input.LabeledInputCustom text="{i18n>labelSurname}"
            required="true"
            maxLength="50"
            value="{User>/surname}" />
          <VBox>
            <Label text="{i18n>labelGender}"
              showColon="true"
              required="true" />
            <Select required="true"
              forceSelection="false"
              selectedKey="{User>/gender_id}"
              items="{
                path: 'Genders>/'
              }">
              <c:Item key="{Genders>id}"
                text="{Genders>name}" />
            </Select>
          </VBox>
          <my:input.LabeledInputCustom text="{i18n>labelFiscalCode}"
            required="true"
            type="FiscalCode"
            value="{User>/fiscal_code}">
            <my:layoutData>
              <l:GridData linebreak="true"/>
            </my:layoutData>
          </my:input.LabeledInputCustom>
          <my:input.LabeledInputCustom text="{i18n>labelEmail}"
            required="true"
            type="Email"
            maxLength="100"
            value="{User>/email}">
            <my:layoutData>
              <l:GridData linebreak="true"/>
            </my:layoutData>
          </my:input.LabeledInputCustom>
          <my:datepicker.LabeledDatePickerCustom text="{i18n>labelBirthDate}"
            required="true"
            path="User>/birth_date" />
          <my:input.LabeledInputCustom text="{i18n>labelPhone}"
            required="true"
            type="Phone"
            value="{User>/phone}" />
          <my:input.LabeledInputCustom text="{i18n>labelAddress}"
            maxLength="50"
            value="{User>/address}">
            <my:layoutData>
              <l:GridData linebreak="true"/>
            </my:layoutData>
          </my:input.LabeledInputCustom>
          <my:input.LabeledInputCustom text="{i18n>labelCity}"
            maxLength="50"
            value="{User>/city}"
            valueHelpRequest="onMcCity"
            showValueHelp="true"
            change="onCityChange"/>
          <my:input.LabeledInputCustom text="{i18n>labelCap}"
            type="Integer"
            maxLength="5"
            value="{User>/cap}"
            editable="false">
            <my:layoutData>
              <l:GridData span="XL1 L4 M6"/>
            </my:layoutData>
          </my:input.LabeledInputCustom>
          <VBox>
            <Label text="{i18n>labelRole}"
              showColon="true"
              required="true"/>
            <Select forceSelection="false"
              required="true"
              selectedKey="{User>/role_id}"
              items="{
                path: 'Roles>/'
              }">
              <c:Item key="{Roles>id}"
                text="{Roles>name}" />
            </Select>
            <layoutData>
              <l:GridData linebreak="true"/>
            </layoutData>
          </VBox>
        </l:Grid>
      </Panel>
    </f:content>
    <f:footer>
      <OverflowToolbar>
        <Button type="Back"
          text="{i18n>btnBack}"
          press="onNavBack" />
        <ToolbarSpacer />
        <Button type="Reject"
          text="{i18n>btnDelete}"
          press="onDeletePress"
          visible="{= ${User>/id} !== ''}" />
        <Button type="Emphasized"
          text="{i18n>btnSave}"
          press="onSavePress" />
      </OverflowToolbar>
    </f:footer>
  </f:DynamicPage>
</mvc:View>